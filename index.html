import React, { useState, useRef, useEffect } from 'react';
import { 
  Egg, 
  MapPin, 
  Phone, 
  Facebook, 
  CheckCircle2, 
  Menu, 
  X, 
  TrendingDown, 
  ShoppingCart,
  Award,
  Handshake,
  Sprout,
  ShieldCheck,
  ThermometerSun,
  Truck,
  Bird,
  Utensils,
  Coins,
  Scale,
  Briefcase,
  Megaphone,
  BadgeCheck,
  TrendingUp,
  ChefHat,
  HeartPulse,
  Leaf,
  Sparkles,
  MessageCircle,
  Send,
  Loader2,
  Bot
} from 'lucide-react';

// --- Types & Interfaces ---
interface Product {
  id: string;
  name: string;
  breed: string;
  priceDisplay: string;
  description: string;
  image: string;
  badge?: string;
}

interface PriceItem {
  stage: string;
  price: string;
  desc: string;
}

interface OrderForm {
  name: string;
  contactNumber: string;
  location: string;
  inquiryType: string;
  quantity: string;
  message: string;
}

interface ChatMessage {
  role: 'user' | 'model';
  text: string;
}

// --- Data ---
const PRICE_LIST: PriceItem[] = [
  { stage: "Fertile Eggs", price: "‚Ç±25 / pc", desc: "Pure bred, high fertility rate" },
  { stage: "Chicks (Day old - 1 wk)", price: "‚Ç±100 / hd", desc: "Straight run, vaccinated (Mareks)" },
  { stage: "Growing (2 wks - 1 mo)", price: "‚Ç±150 - ‚Ç±300", desc: "Hardened off, off-heat" },
  { stage: "Juvenile (2 - 3 mos)", price: "‚Ç±350 / hd", desc: "Range ready, distinct features" },
  { stage: "Near Point of Lay (4 mos)", price: "‚Ç±850 / hd", desc: "Sexed hens, pre-production" },
  { stage: "Point of Lay (5 mos)", price: "‚Ç±1,250 / hd", desc: "Ready to lay, quick ROI" },
];

const STRATEGIC_ADVANTAGES = [
  {
    icon: <ThermometerSun className="w-8 h-8 text-orange-600" />,
    title: 'Acclimatized Genetics',
    desc: 'Bred in Solana, for Solana. Our flock is already adapted to the heat and conditions of Cagayan Valley, ensuring higher survival rates than stock shipped from Manila.'
  },
  {
    icon: <ShieldCheck className="w-8 h-8 text-red-700" />,
    title: 'Pure "Dark Mahogany"',
    desc: 'We don‚Äôt settle for generic reds. We breed the true "Dark Mahogany" RIR‚Äîprized for its genetic resilience, aesthetic prestige, and verified utility.'
  },
  {
    icon: <Truck className="w-8 h-8 text-blue-600" />,
    title: 'Zero Transport Stress',
    desc: 'Eliminate the risk of "shipping shock." Buying local means your eggs and chicks arrive fresh, vigorous, and ready to grow.'
  }
];

const RIR_BENEFITS = [
  {
    icon: <Scale className="w-6 h-6 text-red-600" />,
    title: "Dual-Purpose Powerhouse",
    desc: "The ultimate 'Sulit' breed. Females lay 250+ eggs/year, while males grow heavy for premium meat. Unlike commercial layers, you don't throw away the males."
  },
  {
    icon: <ShieldCheck className="w-6 h-6 text-red-600" />,
    title: "Disease Resilience",
    desc: "RIRs are tough. They are far less sensitive than white broilers and thrive in backyard or free-range conditions with minimal intervention."
  },
  {
    icon: <Utensils className="w-6 h-6 text-red-600" />,
    title: "Superior Taste",
    desc: "The meat quality rivals native chicken ('Tagalog')‚Äîfirm and flavorful, not mushy like supermarket chicken. It fetches a higher price in the market."
  },
  {
    icon: <Coins className="w-6 h-6 text-red-600" />,
    title: "High Resale Value",
    desc: "Even as 'cull' chickens after laying, RIR hens are heavy and valuable for meat, giving you a second payday that commercial layers can't match."
  }
];

const RESELLER_PERKS = [
  {
    icon: <TrendingUp className="w-6 h-6 text-blue-600" />,
    title: "Wholesale Margins",
    desc: "Get exclusive discounts when you order in bulk (10+ trays or 50+ heads). Buy low, sell at market rates."
  },
  {
    icon: <BadgeCheck className="w-6 h-6 text-blue-600" />,
    title: "Authorized Partner",
    desc: "Receive an official 'Authorized Reseller' certificate to display in your Agrivet or farm, building instant trust."
  },
  {
    icon: <Megaphone className="w-6 h-6 text-blue-600" />,
    title: "Marketing Support",
    desc: "We provide professional photos and tarpaulin designs so you don't have to create them yourself."
  },
  {
    icon: <Briefcase className="w-6 h-6 text-blue-600" />,
    title: "Priority Allocation",
    desc: "Resellers get first priority during peak seasons. Ensure your customers always have stock available."
  }
];

const EGG_BENEFITS = [
  {
    icon: <ChefHat className="w-6 h-6 text-orange-600" />,
    title: "Richer Flavor & Texture",
    desc: "Chefs and bakers prefer heritage brown eggs for their deeper, creamier taste. Our yolks are rich orange and flavorful, not pale and watery like commercial white eggs."
  },
  {
    icon: <HeartPulse className="w-6 h-6 text-orange-600" />,
    title: "Nutrient Dense",
    desc: "Laid by hens fed a balanced diet and allowed to forage. Our brown eggs are packed with protein and essential vitamins for your family's health."
  },
  {
    icon: <Leaf className="w-6 h-6 text-orange-600" />,
    title: "Thicker Shells, Fresher Eggs",
    desc: "Our heritage breeds produce eggs with thicker shells, keeping them fresh longer. Plus, they are harvested right here in Solana‚Äîno long-distance shipping."
  }
];

// --- Gemini API Helper ---
const callGeminiAPI = async (prompt: string, systemInstruction: string = ""): Promise<string> => {
  const apiKey = ""; // Provided at runtime
  try {
    const response = await fetch(
      `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ 
          contents: [{ parts: [{ text: prompt }] }],
          systemInstruction: { parts: [{ text: systemInstruction }] }
        }),
      }
    );
    
    if (!response.ok) {
        throw new Error(`API call failed: ${response.statusText}`);
    }

    const data = await response.json();
    return data.candidates?.[0]?.content?.parts?.[0]?.text || "I apologize, I couldn't generate a response at the moment.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I am having trouble connecting to the server. Please try again later.";
  }
};

// --- Components ---

const Button = ({ 
  children, 
  variant = 'primary', 
  className = '', 
  onClick,
  type = 'button',
  disabled = false
}: { 
  children: React.ReactNode; 
  variant?: 'primary' | 'outline' | 'ghost' | 'secondary' | 'sparkle'; 
  className?: string;
  onClick?: () => void;
  type?: 'button' | 'submit';
  disabled?: boolean;
}) => {
  const baseStyle = "inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background";
  const variants = {
    primary: "bg-red-700 text-white hover:bg-red-800 h-10 py-2 px-4 shadow-sm",
    secondary: "bg-slate-900 text-white hover:bg-slate-800 h-10 py-2 px-4 shadow-sm",
    outline: "border border-input hover:bg-red-50 hover:text-red-700 h-10 py-2 px-4",
    ghost: "hover:bg-accent hover:text-accent-foreground h-10 py-2 px-4",
    sparkle: "bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 h-10 py-2 px-4 shadow-md border border-purple-400/50"
  };
  
  return (
    <button type={type} disabled={disabled} className={`${baseStyle} ${variants[variant]} ${className}`} onClick={onClick}>
      {children}
    </button>
  );
};

const Card = ({ children, className = '' }: { children: React.ReactNode; className?: string }) => (
  <div className={`rounded-xl border bg-card text-card-foreground shadow-sm bg-white overflow-hidden ${className}`}>
    {children}
  </div>
);

// --- AI Chat Widget Component ---
const AIChatWidget = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [messages, setMessages] = useState<ChatMessage[]>([
    { role: 'model', text: 'Hello! I am the Legal Chicks Poultry Expert. Ask me anything about raising Rhode Island Reds, egg production, or our reseller program!' }
  ]);
  const [input, setInput] = useState("");
  const [isLoading, setIsLoading] = useState(false);
  const messagesEndRef = useRef<HTMLDivElement>(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages, isOpen]);

  const handleSend = async () => {
    if (!input.trim()) return;
    
    const userMsg = input;
    setInput("");
    setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
    setIsLoading(true);

    const systemPrompt = `You are a helpful and knowledgeable poultry expert assistant for "Legal Chicks Philippines". 
    Your goal is to help customers with questions about:
    1. Raising Rhode Island Reds (Dark Mahogany) and Black Australorps.
    2. The benefits of brown eggs vs white eggs.
    3. The "Legal Chicks Empowerment Network" for farmers.
    4. Managing a backyard poultry farm in the Philippines (specifically Cagayan Valley conditions).
    
    Key Business Info:
    - Located in Centro Solana, Cagayan Valley.
    - Sells: Fertile Eggs (P25), Chicks (P100), Ready to Lay (P1250).
    - Features: Acclimatized genetics, no shipping stress (local).
    
    Tone: Friendly, encouraging, professional, and helpful. Use emojis occasionally. Keep answers concise.`;

    const reply = await callGeminiAPI(userMsg, systemPrompt);
    
    setMessages(prev => [...prev, { role: 'model', text: reply }]);
    setIsLoading(false);
  };

  return (
    <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end">
      {isOpen && (
        <Card className="w-80 md:w-96 h-[500px] mb-4 flex flex-col shadow-2xl border-blue-200 animate-in slide-in-from-bottom-10 fade-in duration-300">
          <div className="p-4 bg-gradient-to-r from-blue-700 to-purple-700 text-white flex justify-between items-center">
            <div className="flex items-center gap-2">
              <Bot className="w-5 h-5" />
              <span className="font-bold">Poultry Pro AI</span>
            </div>
            <button onClick={() => setIsOpen(false)} className="hover:bg-white/20 p-1 rounded">
              <X className="w-4 h-4" />
            </button>
          </div>
          
          <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50">
            {messages.map((msg, idx) => (
              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div className={`max-w-[80%] rounded-2xl p-3 text-sm ${
                  msg.role === 'user' 
                    ? 'bg-blue-600 text-white rounded-br-none' 
                    : 'bg-white border border-slate-200 text-slate-800 rounded-bl-none shadow-sm'
                }`}>
                  {msg.text}
                </div>
              </div>
            ))}
            {isLoading && (
              <div className="flex justify-start">
                <div className="bg-slate-200 rounded-full p-2 animate-pulse">
                  <Bot className="w-4 h-4 text-slate-500" />
                </div>
              </div>
            )}
            <div ref={messagesEndRef} />
          </div>

          <div className="p-3 bg-white border-t">
            <form onSubmit={(e) => { e.preventDefault(); handleSend(); }} className="flex gap-2">
              <input
                className="flex-1 border border-slate-300 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-blue-500"
                placeholder="Ask about chicks, feeds..."
                value={input}
                onChange={(e) => setInput(e.target.value)}
                disabled={isLoading}
              />
              <button 
                type="submit" 
                disabled={isLoading || !input.trim()}
                className="bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 disabled:opacity-50 transition-colors"
              >
                {isLoading ? <Loader2 className="w-4 h-4 animate-spin" /> : <Send className="w-4 h-4" />}
              </button>
            </form>
          </div>
        </Card>
      )}

      <button
        onClick={() => setIsOpen(!isOpen)}
        className={`group flex items-center gap-2 px-4 py-3 rounded-full shadow-lg transition-all duration-300 ${
          isOpen ? 'bg-slate-800 text-white' : 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:scale-105'
        }`}
      >
        {isOpen ? (
          <>Close Support</>
        ) : (
          <>
            <MessageCircle className="w-5 h-5" />
            <span className="font-semibold">Ask AI Expert</span>
            <Sparkles className="w-4 h-4 text-yellow-300 animate-pulse" />
          </>
        )}
      </button>
    </div>
  );
};

// --- Recipe Generator Component ---
const RecipeGenerator = () => {
  const [ingredients, setIngredients] = useState("");
  const [recipe, setRecipe] = useState<string | null>(null);
  const [loading, setLoading] = useState(false);

  const generateRecipe = async () => {
    if (!ingredients.trim()) return;
    setLoading(true);
    setRecipe(null);

    const systemPrompt = `You are a world-class chef specializing in farm-to-table cuisine. 
    Create a delicious, creative recipe using "Legal Chicks Premium Brown Eggs" and the user's provided ingredients.
    Highlight the rich, orange yolk and creamy texture of the eggs in the recipe description.
    Format the output clearly with: 
    - üçΩÔ∏è Recipe Name
    - üìù Brief Description
    - üõí Ingredients List
    - üë®‚Äçüç≥ Step-by-step Instructions`;

    const result = await callGeminiAPI(`I have these ingredients: ${ingredients}`, systemPrompt);
    setRecipe(result);
    setLoading(false);
  };

  return (
    <div className="mt-8 bg-white rounded-xl p-6 border border-orange-200 shadow-sm">
      <div className="flex items-center gap-2 mb-4">
        <ChefHat className="w-6 h-6 text-orange-600" />
        <h3 className="font-bold text-lg text-slate-800">Chef's Corner: AI Recipe Generator</h3>
        <span className="bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded-full font-bold flex items-center gap-1">
          <Sparkles className="w-3 h-3" /> AI Powered
        </span>
      </div>
      
      <p className="text-sm text-slate-600 mb-4">
        Got some ingredients in the fridge? Tell us what you have, and our AI Chef will create a custom recipe using our premium brown eggs.
      </p>

      <div className="flex gap-2 mb-6">
        <input 
          type="text" 
          placeholder="e.g. spinach, cheese, leftover rice, tomatoes..." 
          className="flex-1 border border-slate-300 rounded-md px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"
          value={ingredients}
          onChange={(e) => setIngredients(e.target.value)}
          onKeyDown={(e) => e.key === 'Enter' && generateRecipe()}
        />
        <Button 
          variant="sparkle" 
          onClick={generateRecipe}
          disabled={loading || !ingredients.trim()}
        >
          {loading ? <Loader2 className="w-4 h-4 animate-spin" /> : <>Generate ‚ú®</>}
        </Button>
      </div>

      {recipe && (
        <div className="bg-orange-50/50 rounded-lg p-6 border border-orange-100 animate-in fade-in slide-in-from-top-4">
          <div className="prose prose-sm prose-orange max-w-none whitespace-pre-line text-slate-700">
            {recipe}
          </div>
          <div className="mt-4 pt-4 border-t border-orange-200 text-center">
            <Button variant="outline" className="text-xs h-8" onClick={() => {
              const element = document.getElementById('contact');
              element?.scrollIntoView({ behavior: 'smooth' });
            }}>
              Order Eggs for this Recipe
            </Button>
          </div>
        </div>
      )}
    </div>
  );
};

// --- Main App Component ---

export default function App() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [formData, setFormData] = useState<OrderForm>({
    name: '',
    contactNumber: '',
    location: '',
    inquiryType: 'Dark Mahogany RIR Eggs',
    quantity: '',
    message: ''
  });

  const handleScroll = (id: string) => {
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
      setIsMenuOpen(false);
    }
  };

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);

    // =========================================================================
    // --- EMAILJS CONFIGURATION ---
    // Please replace these 3 strings with your actual IDs from EmailJS.com
    // =========================================================================
    const SERVICE_ID = "service_3rj0t59";   // e.g., service_a1b2c3d
    const TEMPLATE_ID = "template_zeu72o5"; // e.g., template_x9y8z7
    const PUBLIC_KEY = "RY1tGe1iEiMGRXdX4";     // e.g., 2A_f3D9... (from Account > API Keys)
    // =========================================================================

    const templateParams = {
      from_name: formData.name,
      contact_number: formData.contactNumber,
      location: formData.location,
      inquiry_type: formData.inquiryType,
      quantity: formData.quantity,
      message: formData.message,
    };

    try {
      // Sending email using the EmailJS REST API
      const response = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          service_id: SERVICE_ID,
          template_id: TEMPLATE_ID,
          user_id: PUBLIC_KEY,
          template_params: templateParams,
        }),
      });

      if (response.ok) {
        alert("Thank you! Your order/inquiry has been successfully sent to Legal Chicks.");
        setFormData({
          name: '',
          contactNumber: '',
          location: '',
          inquiryType: 'Dark Mahogany RIR Eggs',
          quantity: '',
          message: ''
        });
      } else {
        throw new Error("Failed to send email");
      }

    } catch (error) {
      console.error("EmailJS Error:", error);
      alert("Oops! There was a problem sending your message. Please verify your internet connection or try messaging us on Facebook.");
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-900">
      
      {/* Navigation */}
      <nav className="sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60">
        <div className="container mx-auto px-4 md:px-6 h-16 flex items-center justify-between">
          <div className="flex items-center gap-2 font-bold text-xl text-red-700">
            <Egg className="h-6 w-6" />
            <span>Legal Chicks</span>
          </div>

          <div className="hidden md:flex gap-6">
            <button onClick={() => handleScroll('home')} className="text-sm font-medium hover:text-red-600 transition-colors">Home</button>
            <button onClick={() => handleScroll('advantage')} className="text-sm font-medium hover:text-red-600 transition-colors">Why Us</button>
            <button onClick={() => handleScroll('breed-info')} className="text-sm font-medium hover:text-red-600 transition-colors text-red-700 font-bold">Breed Info</button>
            <button onClick={() => handleScroll('network')} className="text-sm font-medium hover:text-red-600 transition-colors text-blue-700 font-bold">The Network</button>
            <button onClick={() => handleScroll('resellers')} className="text-sm font-medium hover:text-red-600 transition-colors">Resellers</button>
            <button onClick={() => handleScroll('products')} className="text-sm font-medium hover:text-red-600 transition-colors">Pricing</button>
          </div>

          <div className="hidden md:flex">
            <Button onClick={() => handleScroll('contact')}>Order Now</Button>
          </div>

          <button className="md:hidden p-2" onClick={() => setIsMenuOpen(!isMenuOpen)}>
            {isMenuOpen ? <X /> : <Menu />}
          </button>
        </div>

        {isMenuOpen && (
          <div className="md:hidden border-t bg-white p-4 space-y-4 shadow-lg">
             <button onClick={() => handleScroll('home')} className="block w-full text-left font-medium py-2 text-slate-600">Home</button>
             <button onClick={() => handleScroll('advantage')} className="block w-full text-left font-medium py-2 text-slate-600">Northern Advantage</button>
             <button onClick={() => handleScroll('breed-info')} className="block w-full text-left font-medium py-2 text-red-700">Why RIR?</button>
             <button onClick={() => handleScroll('network')} className="block w-full text-left font-medium py-2 text-blue-700">The Network</button>
             <button onClick={() => handleScroll('resellers')} className="block w-full text-left font-medium py-2 text-slate-600">Resellers</button>
             <button onClick={() => handleScroll('products')} className="block w-full text-left font-medium py-2 text-slate-600">Price List</button>
            <Button className="w-full" onClick={() => handleScroll('contact')}>Inquire Now</Button>
          </div>
        )}
      </nav>

      {/* Hero Section */}
      <section id="home" className="relative min-h-[600px] flex items-center justify-center overflow-hidden bg-slate-900 text-white">
        <div className="absolute inset-0 z-0">
          <img 
            src="/src/assets/hero-rooster.jpg" 
            alt="Rhode Island Red Rooster" 
            className="w-full h-full object-cover opacity-30"
            onError={(e) => {
              (e.target as HTMLImageElement).src = 'https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?q=80&w=1000&auto=format&fit=crop';
            }}
          />
        </div>
        
        <div className="container relative z-10 px-4 md:px-6 text-center">
          <div className="inline-block rounded-full bg-red-600/20 px-4 py-1.5 text-sm font-semibold text-red-300 border border-red-500/30 mb-6 backdrop-blur-sm">
            Based in Centro Solana, Cagayan Valley
          </div>
          <h1 className="text-4xl md:text-6xl font-extrabold tracking-tight mb-4">
            <span className="text-red-500">Dark Mahogany</span> Genetics <br/>
            <span className="text-white">For The Serious Farmer</span>
          </h1>
          <p className="mx-auto max-w-[700px] text-lg md:text-xl text-slate-300 mb-8 font-light">
            Stop risking your investment on stressed stock from the South. 
            We provide verified, acclimatized heritage breeds right here in the North.
          </p>
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <Button className="h-12 px-8 text-lg bg-red-700 hover:bg-red-800" onClick={() => handleScroll('products')}>
              See Price List
            </Button>
            <Button variant="outline" className="h-12 px-8 text-lg bg-white/5 border-white/20 text-white hover:bg-white/10 hover:text-white" onClick={() => handleScroll('network')}>
              Join The Network
            </Button>
          </div>
        </div>
      </section>

      {/* Stats Bar */}
      <div className="bg-slate-900 border-t border-slate-800 text-white py-8">
        <div className="container mx-auto px-4 md:px-6">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div>
              <div className="text-3xl font-bold text-red-500">300+</div>
              <div className="text-slate-400 text-sm">Dark Mahogany Layers</div>
            </div>
            <div>
              <div className="text-3xl font-bold text-red-500">50+</div>
              <div className="text-slate-400 text-sm">Australorp Layers</div>
            </div>
            <div>
              <div className="text-3xl font-bold text-blue-500">Hybrid</div>
              <div className="text-slate-400 text-sm">Social Enterprise</div>
            </div>
            <div>
              <div className="text-3xl font-bold text-blue-500">Local</div>
              <div className="text-slate-400 text-sm">Solana Bred</div>
            </div>
          </div>
        </div>
      </div>

      {/* STRATEGIC ADVANTAGE SECTION */}
      <section id="advantage" className="py-20 bg-slate-50">
        <div className="container mx-auto px-4 md:px-6">
          <div className="text-center max-w-3xl mx-auto mb-16">
            <h2 className="text-3xl md:text-4xl font-bold tracking-tight mb-4 text-slate-900">
              The Northern Advantage
            </h2>
            <p className="text-slate-600 text-lg">
              For too long, Cagayan farmers have relied on stock shipped from Batangas or Cavite. 
              The stress of travel weakens the birds. We changed that.
            </p>
          </div>

          <div className="grid md:grid-cols-3 gap-8">
            {STRATEGIC_ADVANTAGES.map((item, idx) => (
              <div key={idx} className="bg-white p-8 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-all hover:-translate-y-1">
                <div className="bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mb-6">
                  {item.icon}
                </div>
                <h3 className="text-xl font-bold mb-3 text-slate-900">{item.title}</h3>
                <p className="text-slate-600 leading-relaxed">
                  {item.desc}
                </p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* BREED SPOTLIGHT SECTION */}
      <section id="breed-info" className="py-20 bg-red-900 text-white">
        <div className="container mx-auto px-4 md:px-6">
          <div className="flex flex-col md:flex-row gap-12 items-center">
            
            <div className="md:w-1/2">
              <div className="inline-block rounded-full bg-red-800 px-3 py-1 text-xs font-bold text-red-200 mb-4 border border-red-700">
                  BREED SPOTLIGHT
              </div>
              <h2 className="text-3xl md:text-5xl font-extrabold tracking-tight mb-6">
                Why Choose <br/>
                <span className="text-red-300">Rhode Island Reds?</span>
              </h2>
              <p className="text-red-100 text-lg mb-8 leading-relaxed">
                The "Dark Mahogany" RIR is the gold standard for sustainable farming. 
                It is a <strong>Dual-Purpose</strong> breed, meaning it was engineered to feed families with both eggs and meat.
              </p>
              
              <div className="grid sm:grid-cols-2 gap-6">
                {RIR_BENEFITS.map((benefit, idx) => (
                  <div key={idx} className="bg-red-800/50 p-4 rounded-lg border border-red-700/50">
                    <div className="flex items-center gap-2 mb-2 font-bold text-red-100">
                      {benefit.icon}
                      {benefit.title}
                    </div>
                    <p className="text-sm text-red-200/80">
                      {benefit.desc}
                    </p>
                  </div>
                ))}
              </div>

              <div className="mt-8">
                 <Button variant="outline" className="text-white border-white hover:bg-white hover:text-red-900" onClick={() => handleScroll('products')}>
                    Check RIR Pricing
                 </Button>
              </div>
            </div>

            <div className="md:w-1/2">
               <div className="relative rounded-2xl overflow-hidden border-4 border-red-800/50 shadow-2xl">
                 <img 
                    src="/src/assets/hen-closeup.jpg" 
                    alt="RIR Hen Closeup" 
                    className="w-full h-auto object-cover transform hover:scale-105 transition-transform duration-700"
                    onError={(e) => {
                       (e.target as HTMLImageElement).src = 'https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?q=80&w=1000&auto=format&fit=crop';
                    }}
                 />
                 <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-6">
                    <p className="font-bold text-lg">Actual Farm Photo</p>
                    <p className="text-sm text-slate-300">Healthy, acclimatized layers in Solana.</p>
                 </div>
               </div>
            </div>

          </div>
        </div>
      </section>

      {/* THE NETWORK SECTION */}
      <section id="network" className="py-20 bg-white">
        <div className="container mx-auto px-4 md:px-6">
          <div className="flex flex-col md:flex-row gap-12 items-center">
            <div className="md:w-1/2">
               <div className="inline-block rounded-full bg-blue-100 px-3 py-1 text-xs font-bold text-blue-700 mb-4">
                  SOCIAL ENTERPRISE
               </div>
              <h2 className="text-3xl md:text-4xl font-bold tracking-tight mb-4 text-slate-900">
                The Empowerment Network
              </h2>
              <p className="text-slate-600 text-lg mb-6">
                Legal Chicks is more than a farm; it's a movement. We are building a "Hybrid Social Enterprise" that partners with local farmers.
              </p>
              <div className="space-y-4">
                <div className="flex gap-4">
                   <Sprout className="w-6 h-6 text-green-600 shrink-0" />
                   <div>
                     <h4 className="font-bold">Opportunity Packages</h4>
                     <p className="text-sm text-slate-500">Access to quality chicks, feed support, and training to start your farm.</p>
                   </div>
                </div>
                <div className="flex gap-4">
                   <Handshake className="w-6 h-6 text-blue-600 shrink-0" />
                   <div>
                     <h4 className="font-bold">Community Clusters</h4>
                     <p className="text-sm text-slate-500">Join a network of growers in your barangay for shared resources and market access.</p>
                   </div>
                </div>
              </div>
              <div className="mt-8">
                <Button variant="secondary" onClick={() => {
                  setFormData(prev => ({...prev, inquiryType: 'Network Membership Inquiry'}));
                  handleScroll('contact');
                }}>
                  Join the Network
                </Button>
              </div>
            </div>
            
            <div className="md:w-1/2 bg-slate-100 rounded-2xl p-8 border border-slate-200">
               <h3 className="font-bold text-xl mb-4">Why Join Us?</h3>
               <ul className="space-y-3">
                 <li className="flex items-center gap-2">
                   <CheckCircle2 className="w-5 h-5 text-green-600" />
                   <span>Access to purebred "Dark Mahogany" stock</span>
                 </li>
                 <li className="flex items-center gap-2">
                   <CheckCircle2 className="w-5 h-5 text-green-600" />
                   <span>Mentorship on the "Legal Chicks System"</span>
                 </li>
                 <li className="flex items-center gap-2">
                   <CheckCircle2 className="w-5 h-5 text-green-600" />
                   <span>Support from incubation to harvest</span>
                 </li>
                 <li className="flex items-center gap-2">
                   <CheckCircle2 className="w-5 h-5 text-green-600" />
                   <span>Be part of a legal, recognized entity</span>
                 </li>
               </ul>
            </div>
          </div>
        </div>
      </section>

      {/* BROWN EGG BENEFITS SECTION (Culinary Excellence) */}
      <section className="py-20 bg-orange-50">
        <div className="container mx-auto px-4 md:px-6">
          <div className="flex flex-col md:flex-row gap-12 items-start">
             <div className="md:w-1/2 relative">
                <div className="absolute -top-4 -left-4 w-24 h-24 bg-orange-200 rounded-full blur-2xl opacity-50"></div>
                <img 
                  src="/src/assets/eggs-basket.jpg" 
                  alt="Basket of Brown Eggs" 
                  className="relative rounded-2xl shadow-xl w-full object-cover aspect-square md:aspect-auto md:h-[500px]"
                  onError={(e) => {
                      (e.target as HTMLImageElement).src = 'https://images.unsplash.com/photo-1598965402089-2735118d0422?q=80&w=1000&auto=format&fit=crop';
                  }}
                />
                <div className="absolute bottom-6 right-6 bg-white p-4 rounded-lg shadow-lg max-w-xs border border-orange-100">
                   <p className="font-bold text-orange-800 text-lg">"The yolk is so orange!"</p>
                   <p className="text-slate-500 text-sm mt-1">- Happy Customer from Solana</p>
                </div>
             </div>
             
             <div className="md:w-1/2">
               <div className="inline-block rounded-full bg-orange-100 px-3 py-1 text-xs font-bold text-orange-700 mb-4 border border-orange-200">
                  CULINARY EXCELLENCE
               </div>
               <h2 className="text-3xl md:text-4xl font-bold tracking-tight mb-6 text-slate-900">
                 Heritage Brown vs. Commercial White
               </h2>
               <p className="text-slate-600 text-lg mb-8">
                 Not all eggs are created equal. Our Dark Mahogany RIRs lay premium brown eggs that are superior in taste and texture compared to factory-farmed white eggs.
               </p>

               <div className="space-y-6">
                 {EGG_BENEFITS.map((item, idx) => (
                   <div key={idx} className="flex gap-4 items-start">
                      <div className="p-3 bg-white rounded-lg shadow-sm text-orange-600 border border-orange-100">
                        {item.icon}
                      </div>
                      <div>
                        <h4 className="font-bold text-lg text-slate-800">{item.title}</h4>
                        <p className="text-slate-600 leading-relaxed">{item.desc}</p>
                      </div>
                   </div>
                 ))}
               </div>
               
               {/* --- AI Recipe Generator Integration --- */}
               <RecipeGenerator />

             </div>
          </div>
        </div>
      </section>

      {/* RESELLERS SECTION */}
      <section id="resellers" className="py-20 bg-slate-50 border-t border-slate-200">
        <div className="container mx-auto px-4 md:px-6">
          <div className="text-center max-w-3xl mx-auto mb-16">
             <div className="inline-block rounded-full bg-purple-100 px-3 py-1 text-xs font-bold text-purple-700 mb-4 border border-purple-200">
                BUSINESS OPPORTUNITY
             </div>
            <h2 className="text-3xl md:text-4xl font-bold tracking-tight mb-4 text-slate-900">
              Distributors & Resellers Program
            </h2>
            <p className="text-slate-600 text-lg">
              Turn your network into net worth. Partner with Legal Chicks and become the go-to supplier for premium quality genetics in your municipality.
            </p>
          </div>

          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {RESELLER_PERKS.map((perk, idx) => (
               <Card key={idx} className="p-6 bg-white hover:shadow-lg transition-shadow border-slate-100">
                  <div className="mb-4 bg-purple-50 w-12 h-12 rounded-lg flex items-center justify-center">
                    {perk.icon}
                  </div>
                  <h3 className="font-bold text-lg mb-2">{perk.title}</h3>
                  <p className="text-sm text-slate-500 leading-relaxed">{perk.desc}</p>
               </Card>
            ))}
          </div>

          <div className="mt-12 text-center">
             <Button className="h-12 px-8 text-lg bg-purple-700 hover:bg-purple-800" onClick={() => {
                setFormData(prev => ({...prev, inquiryType: 'Reseller Application'}));
                handleScroll('contact');
             }}>
                Apply to be a Reseller
             </Button>
          </div>
        </div>
      </section>

      {/* Products & Pricing Section */}
      <section id="products" className="py-20 bg-white">
        <div className="container mx-auto px-4 md:px-6">
          <div className="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
            <div>
              <div className="inline-block rounded-full bg-red-100 px-3 py-1 text-xs font-bold text-red-700 mb-4">
                  OFFICIAL PRICE LIST
               </div>
              <h2 className="text-3xl font-bold tracking-tight mb-2">Catalog & Pricing</h2>
              <p className="text-slate-500">Invest in quality genetics at the stage that suits your budget.</p>
            </div>
            <div className="flex items-center gap-2 text-sm bg-orange-100 text-orange-800 px-4 py-2 rounded-md border border-orange-200">
              <TrendingDown className="w-4 h-4" />
              <span>Bulk Pricing Available for 10+ orders</span>
            </div>
          </div>

          <div className="grid lg:grid-cols-3 gap-8 items-start">
            
            {/* Visual Cards */}
            <div className="space-y-6">
               <Card className="overflow-hidden">
                 <div className="aspect-video bg-slate-200 relative">
                    <img 
                      src="/src/assets/eggs-basket.jpg" 
                      alt="Fertile Eggs" 
                      className="w-full h-full object-cover"
                      onError={(e) => {
                         (e.target as HTMLImageElement).src = 'https://images.unsplash.com/photo-1598965402089-2735118d0422?q=80&w=1000&auto=format&fit=crop';
                      }}
                    />
                    <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4">
                       <h3 className="text-white font-bold text-lg">Fertile Eggs</h3>
                       <p className="text-slate-200 text-sm">Start from scratch</p>
                    </div>
                 </div>
                 <div className="p-4 flex justify-between items-center">
                    <div>
                      <span className="text-2xl font-bold text-red-700">‚Ç±25</span>
                      <span className="text-slate-500 text-sm"> / pc</span>
                    </div>
                    <Button variant="outline" className="h-8" onClick={() => {
                        setFormData(prev => ({...prev, inquiryType: 'Fertile Eggs'}));
                        handleScroll('contact');
                    }}>Order</Button>
                 </div>
               </Card>

               <Card className="overflow-hidden">
                 <div className="aspect-video bg-slate-200 relative">
                    <img 
                      src="/src/assets/hen-closeup.jpg" 
                      alt="Live Stock" 
                      className="w-full h-full object-cover"
                      onError={(e) => {
                         (e.target as HTMLImageElement).src = 'https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?q=80&w=1000&auto=format&fit=crop';
                      }}
                    />
                    <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4">
                       <h3 className="text-white font-bold text-lg">Live Stock</h3>
                       <p className="text-slate-200 text-sm">Chicks to Layers</p>
                    </div>
                 </div>
                 <div className="p-4 flex justify-between items-center">
                    <div>
                      <span className="text-slate-500 text-xs uppercase font-bold">Starts at</span>
                      <div className="text-2xl font-bold text-red-700">‚Ç±100</div>
                    </div>
                    <Button variant="outline" className="h-8" onClick={() => {
                        setFormData(prev => ({...prev, inquiryType: 'Day Old Chicks'}));
                        handleScroll('contact');
                    }}>Order</Button>
                 </div>
               </Card>
            </div>

            {/* Price Table */}
            <Card className="lg:col-span-2 overflow-hidden shadow-md border-slate-200">
               <div className="bg-slate-100 px-6 py-4 border-b border-slate-200">
                  <h3 className="font-bold text-slate-800 flex items-center gap-2">
                     <Bird className="w-5 h-5 text-red-600"/>
                     Current Farm Gate Prices
                  </h3>
               </div>
               <div className="divide-y divide-slate-100">
                  {PRICE_LIST.map((item, idx) => (
                     <div key={idx} className="p-4 md:p-6 flex flex-col md:flex-row justify-between items-center hover:bg-slate-50 transition-colors gap-4">
                        <div className="text-center md:text-left flex-1">
                           <h4 className="font-bold text-lg text-slate-900">{item.stage}</h4>
                           <p className="text-slate-500 text-sm">{item.desc}</p>
                        </div>
                        <div className="flex items-center gap-6 w-full md:w-auto justify-between md:justify-end">
                           <div className="text-xl font-bold text-red-700 whitespace-nowrap">{item.price}</div>
                           <Button variant="secondary" className="h-9 px-4" onClick={() => {
                              setFormData(prev => ({...prev, inquiryType: item.stage}));
                              handleScroll('contact');
                           }}>
                              Select
                           </Button>
                        </div>
                     </div>
                  ))}
               </div>
               <div className="bg-slate-50 p-4 text-xs text-center text-slate-400">
                  * Prices are subject to change without prior notice. Bulk discounts available for 10+ heads/trays.
               </div>
            </Card>

          </div>
        </div>
      </section>

      {/* Contact Section */}
      <section id="contact" className="py-20 bg-slate-50">
        <div className="container mx-auto px-4 md:px-6">
          <div className="grid md:grid-cols-2 gap-12 items-start">
            
            {/* Contact Info */}
            <div>
              <h2 className="text-3xl font-bold tracking-tight mb-6">Order / Inquiry</h2>
              <p className="text-slate-500 mb-8 text-lg">
                Fill out the form to reserve your stock. We will contact you to confirm availability and schedule pickup at Centro Solana.
              </p>

              <div className="space-y-6">
                <div className="flex items-start gap-4">
                  <div className="p-3 bg-red-50 rounded-lg text-red-600">
                    <MapPin className="w-6 h-6" />
                  </div>
                  <div>
                    <h3 className="font-semibold">HQ Location</h3>
                    <p className="text-slate-600">Centro Solana, Cagayan Valley, Philippines</p>
                  </div>
                </div>

                <div className="flex items-start gap-4">
                  <div className="p-3 bg-red-50 rounded-lg text-red-600">
                    <Phone className="w-6 h-6" />
                  </div>
                  <div>
                    <h3 className="font-semibold">Contact</h3>
                    <p className="text-slate-600">+63 9XX XXX XXXX</p>
                    <p className="text-sm text-slate-500">Available Mon-Sat, 8am - 5pm</p>
                  </div>
                </div>

                <div className="flex items-start gap-4">
                  <div className="p-3 bg-red-50 rounded-lg text-red-600">
                    <Facebook className="w-6 h-6" />
                  </div>
                  <div>
                    <h3 className="font-semibold">Social Media</h3>
                    <a 
                      href="https://www.facebook.com/LegalChicksPoultryFarm/" 
                      target="_blank" 
                      rel="noopener noreferrer"
                      className="text-slate-600 hover:text-blue-600 hover:underline transition-colors"
                    >
                      Legal Chicks Poultry Farm
                    </a>
                  </div>
                </div>
              </div>
            </div>

            {/* Combined Inquiry Form */}
            <Card className="p-6 md:p-8 shadow-lg border-slate-200 bg-white">
              <form onSubmit={handleSubmit} className="space-y-4">
                <h3 className="text-xl font-bold mb-4">Reservation Form</h3>
                
                <div className="grid md:grid-cols-2 gap-4">
                  <div className="space-y-2">
                    <label htmlFor="name" className="text-sm font-medium">Name</label>
                    <input
                      id="name"
                      name="name"
                      required
                      className="w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                      placeholder="Mr. Lingan"
                      value={formData.name}
                      onChange={handleInputChange}
                    />
                  </div>
                  <div className="space-y-2">
                    <label htmlFor="contactNumber" className="text-sm font-medium">Contact Number</label>
                    <input
                      id="contactNumber"
                      name="contactNumber"
                      required
                      className="w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                      placeholder="0917..."
                      value={formData.contactNumber}
                      onChange={handleInputChange}
                    />
                  </div>
                </div>

                <div className="space-y-2">
                  <label htmlFor="location" className="text-sm font-medium">Location</label>
                  <input
                    id="location"
                    name="location"
                    required
                    className="w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                    placeholder="Barangay / Town"
                    value={formData.location}
                    onChange={handleInputChange}
                  />
                </div>

                <div className="space-y-2">
                  <label htmlFor="inquiryType" className="text-sm font-medium">I am interested in:</label>
                  <select
                    id="inquiryType"
                    name="inquiryType"
                    className="w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent font-medium"
                    value={formData.inquiryType}
                    onChange={handleInputChange}
                  >
                    <option value="" disabled>Select an Item</option>
                    <optgroup label="Partnership">
                      <option value="Reseller Application">Reseller Application (Business)</option>
                      <option value="Network Membership Inquiry">Joining the Empowerment Network (Farmer)</option>
                    </optgroup>
                    <optgroup label="Live Stock">
                      <option value="Chicks (Day old - 1 wk)">Chicks (Day old - 1 wk) @ ‚Ç±100</option>
                      <option value="Growing (2 wks - 1 mo)">Growing (2 wks - 1 mo) @ ‚Ç±150-300</option>
                      <option value="Juvenile (2 - 3 mos)">Juvenile (2 - 3 mos) @ ‚Ç±350</option>
                      <option value="Near Point of Lay (4 mos)">Near Point of Lay (4 mos) @ ‚Ç±850</option>
                      <option value="Point of Lay (5 mos)">Point of Lay (5 mos) @ ‚Ç±1,250</option>
                    </optgroup>
                    <optgroup label="Eggs">
                      <option value="Fertile Eggs">Fertile Eggs @ ‚Ç±25/pc</option>
                      <option value="Bulk Order (Eggs)">Bulk Order (Eggs)</option>
                    </optgroup>
                  </select>
                </div>

                <div className="space-y-2">
                   <div className="flex justify-between">
                     <label htmlFor="quantity" className="text-sm font-medium">Quantity</label>
                     <span className="text-xs text-slate-400">Min 1</span>
                   </div>
                    <input
                      id="quantity"
                      name="quantity"
                      type="number"
                      placeholder="e.g. 50"
                      className="w-full h-10 px-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                      value={formData.quantity}
                      onChange={handleInputChange}
                    />
                  </div>

                <div className="space-y-2">
                  <label htmlFor="message" className="text-sm font-medium">Message / Notes</label>
                  <textarea
                    id="message"
                    name="message"
                    rows={3}
                    className="w-full p-3 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                    placeholder="Tell us more about your needs..."
                    value={formData.message}
                    onChange={handleInputChange}
                  />
                </div>

                <Button type="submit" disabled={isSubmitting} className="w-full h-12 text-lg">
                  {isSubmitting ? 'Submitting...' : 'Submit Reservation'}
                </Button>
              </form>
            </Card>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-slate-900 text-slate-300 py-12 border-t border-slate-800">
        <div className="container mx-auto px-4 md:px-6">
          <div className="grid md:grid-cols-3 gap-8 mb-8">
            <div>
              <div className="flex items-center gap-2 font-bold text-xl text-white mb-4">
                <Egg className="h-6 w-6 text-red-600" />
                <span>Legal Chicks</span>
              </div>
              <p className="text-sm leading-relaxed mb-4">
                <strong>Legal Chicks Poultry Farm</strong><br/>
                Prosperity Through Poultry.
              </p>
              <p className="text-sm text-slate-400">
                A social enterprise dedicated to quality genetics and community empowerment in Cagayan Valley.
              </p>
            </div>
            
            <div>
              <h3 className="font-bold text-white mb-4">Site Map</h3>
              <ul className="space-y-2 text-sm">
                <li><button onClick={() => handleScroll('home')} className="hover:text-red-500">Home</button></li>
                <li><button onClick={() => handleScroll('advantage')} className="hover:text-red-500">Why Us</button></li>
                <li><button onClick={() => handleScroll('resellers')} className="hover:text-red-500">Resellers</button></li>
                <li><button onClick={() => handleScroll('products')} className="hover:text-red-500">Price List</button></li>
              </ul>
            </div>

            <div>
              <h3 className="font-bold text-white mb-4">Business Hours</h3>
              <ul className="space-y-2 text-sm">
                <li className="flex justify-between"><span>Mon - Fri</span> <span>8:00 AM - 5:00 PM</span></li>
                <li className="flex justify-between"><span>Saturday</span> <span>8:00 AM - 12:00 PM</span></li>
                <li className="flex justify-between"><span>Sunday</span> <span>Closed</span></li>
              </ul>
            </div>
          </div>
          
          <div className="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-slate-500">
            <p>&copy; {new Date().getFullYear()} Legal Chicks Poultry Farm. All rights reserved.</p>
            <p className="mt-2 md:mt-0 flex items-center gap-1">
              Made in Solana <MapPin className="w-3 h-3" />
            </p>
          </div>
        </div>
      </footer>
      
      {/* AI Chat Widget */}
      <AIChatWidget />
    </div>
  );
}
